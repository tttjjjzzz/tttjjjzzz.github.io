<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bluetooth-Controlled Segway Robot - Tiger Zhou</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        'sans': ['Inter', 'sans-serif'],
                    },
                    maxWidth: {
                        '8xl': '90rem',
                    }
                },
            },
        }
    </script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../css/custom.css">
</head>
<body class="font-sans text-gray-100 antialiased">

    <!-- Stripe WebGL Gradient Background -->
    <canvas id="gradient-canvas"></canvas>

    <!-- Sticky Header -->
    <header class="sticky top-0 z-50 w-full shadow-md" style="background: rgba(249, 250, 251, 0.05); backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px);">
        <div class="w-full px-6 py-6">
            <div class="flex items-center justify-between w-full">
                <div class="flex-shrink-0">
                    <h1 id="header-name" class="text-4xl font-normal text-gray-100">Tiger Zhou</h1>
                </div>
                <nav class="hidden md:mt-0 md:flex-1 md:flex md:justify-center">
                    <ul id="desktop-nav" class="flex flex-col md:flex-row flex-wrap gap-y-2 gap-x-8">
                        <!-- Navigation generated by JavaScript -->
                    </ul>
                </nav>
                <div id="header-social" class="hidden md:flex flex-shrink-0 items-center gap-x-5 mt-6 md:mt-0">
                    <!-- Social icons generated by JavaScript -->
                </div>
                <div class="md:hidden">
                    <button id="mobile-menu-button" class="text-xl font-medium text-gray-100 hover:text-gray-300">Menu ▾</button>
                </div>
            </div>
            <div id="mobile-menu" class="hidden md:hidden pt-4 pb-2 border-t border-gray-200">
                <ul id="mobile-nav" class="flex flex-col space-y-3">
                    <!-- Navigation generated by JavaScript -->
                </ul>
                <div id="header-social-mobile" class="flex items-center gap-x-6 pt-4 mt-4 border-t border-gray-200">
                    <!-- Social icons generated by JavaScript -->
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content Area -->
    <div class="max-w-8xl mx-auto px-6">
        <main>
            <section class="pt-20 md:pt-32 pb-16 md:pb-32">
                <!-- Back Button -->
                <div class="mb-24">
                    <a href="../index.html#projects" class="inline-flex items-center gap-2 text-purple-300 hover:text-purple-200 transition-colors">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"/>
                        </svg>
                        Back to Projects
                    </a>
                </div>

                <!-- Project Title -->
                <div class="max-w-4xl mx-auto w-full">
                    <h1 class="text-5xl font-bold text-gray-100 text-center mb-24">Bluetooth-Controlled Segway Robot</h1>
                </div>

                <!-- Project Content -->
                <div class="max-w-3xl mx-auto mb-20 w-full">

                    <!--overview section-->
                    <div class="mb-12">
                        <div>
                            <!-- Section Heading -->
                            <h2 class="text-4xl font-bold text-purple-200 mb-6">Overview</h2>
                            <!-- Normal Text -->
                            <p class="text-lg text-gray-300 mb-8">The project involves building both the hardware and firmware for a Bluetooth-controlled two-wheel Segway robot. Currently, the work focuses on developing the robot’s drive, balancing, environment sensing, Bluetooth communication, and coulomb counting functions for cell monitoring. The aim of the project is to establish the foundational hardware and firmware, with additional features such as obstacle detection and self-driving planned for future iterations. As of now, the component research, schematic design, and PCB component layout stages have been completed, with the schematic and PCB designed using KiCad.</p>
                        </div>
                    </div>

                    <!--line element for separation-->
                    <div class="mx-auto my-8 w-full h-px rounded" style="background: linear-gradient(90deg, #efe8ff 0%, #d6c2ff 40%, #b799ff 65%, #8a5bff 100%); box-shadow: 0 0 8px rgba(138,91,255,0.12);"></div>

                    <!--key featres-->
                    <div class="mb-12">
                            <!-- Section Heading -->
                            <h2 class="text-4xl font-bold text-purple-200 mb-6">Key Features</h2>
                            <!-- Normal Text -->
                            <ul class="list-disc list-inside text-lg text-gray-300 space-y-2">
                                <li>Two-wheel balancing mechanism for stability.</li>
                                <li>Bluetooth communication for remote control.</li>
                                <li>Environment sensing capabilities.</li>
                                <li>Coulomb counting for battery monitoring.</li>
                            </ul>
                    </div>

                    <!--line element for separation-->
                    <div class="mx-auto my-8 w-full h-px rounded" style="background: linear-gradient(90deg, #efe8ff 0%, #d6c2ff 40%, #b799ff 65%, #8a5bff 100%); box-shadow: 0 0 8px rgba(138,91,255,0.12);"></div>

                     <!--Schematic-->
                    <div class="mb-12">
                            <!-- Section Heading -->
                            <h2 class="text-4xl font-bold text-purple-200 mb-6">Schematic</h2>
                            <p class="text-lg text-gray-300 mb-8">This section outlines the electrical schematic design:</p>
                            <!--image-->
                            <div class="mb-12 w-full mx-auto">
                                <img src="../photos/project-bt-segway/mainSheet.png" alt="Overview of Module Implementation" class="rounded-lg shadow-lg mb-2 w-full object-cover">
                                <p class="text-base text-gray-200 text-center mb-8">The schematic is organized into Power, Motor, Debug Interface, Environment Sensors, and MCU sections, along with some minor blocks</p>
                            </div>

                            <!--line element for separation-->
                            <div class="mx-auto my-8 w-1/2 h-px rounded" style="background: linear-gradient(90deg, #efe8ff 0%, #d6c2ff 40%, #b799ff 65%, #8a5bff 100%); box-shadow: 0 0 8px rgba(138,91,255,0.12);"></div>
                            
                            <!--Power Section-->
                            <div class="mb-12">   
                                <!--title-->
                                <h3 class="text-2xl font-semibold text-purple-300 mb-4">Power Section</h3>
                                <p class="text-lg text-gray-300 mb-6">This board is used to amplify a PWM signal from 3V3 to 12V (fed into a low-side mosfet gate), and it also functions as a DC voltage regulation device. The generated 12V and 3V3 voltage rails are also used to supply different off-board electronic components (MCU, sensors, and display).</p>

                                <!--overview image-->
                                <div class="mb-12 w-full mx-auto">
                                    <img src="../photos/project-bt-segway/powerSectionMain.png" alt="Overview of Module Implementation" class="rounded-lg shadow-lg mb-2 w-full object-cover">
                                    <p class="text-base text-gray-200 text-center mb-8">Overview of Power Section</p>
                                </div>            
                                
                                
                                <!--ESD and REVERSE description-->
                                <ul class="list-disc text-lg text-gray-300 mb-8 ml-4 space-y-2">
                                        <li class="pl-2">For ESD protection (at the board connector), this circuit uses a TVS diode that clamps the input voltage to a safe level (24V4) to prevent ESD events from damaging components. When the input voltage is above 24V4, the TVS diode short circuits to ground.</li>
                                        <li class="pl-2">This reverse polarity protection circuit uses the PMOS implementation. Though a forward biased diode would be a more simple implementation for reverse polarity protection, rectifier diodes come with significant voltage drop. Furthermore, while schottky diodes carry low forward voltage drop, schottky diodes that can handle significant current come in large packages.</li>
                                        <li class="pl-2">On correct input power orientation, Vgs is clamped to 5V6 by D7, opening Q2, where 5V6 is sufficient voltage for our current requirements. On incorrect input power orientation, Q2 stays off, creating an open circuit, protecting on-board 12V-line components from receiving a large negative voltage.</li>
                                </ul>
                                <!--image for above-->
                                <div class="mb-12 w-3/4 mx-auto">
                                    <img src="../photos/project-bt-segway/esdReverse.png" alt="Overview of Module Implementation" class="rounded-lg shadow-lg mb-2 w-full object-cover">
                                    <p class="text-base text-gray-200 text-center mb-8">ESD & Reverse Polarity Protection</p>
                                </div>

                                <!--buck converter-->
                                <ul class="list-disc text-lg text-gray-300 mb-8 ml-4 space-y-2">
                                        <li class="pl-2">To power components on the board, there needs to be a 3V3 line capable of supplying enough current. The AP63200WU is capable of supplying 2A of continuous current, which comfortably exceeds the total current draw from other 3V3 components.</li>
                                        <li class="pl-2">FB1 serves as a ferrite bead for additional filtering between VDD_3V3 and VDDA_3V3. This value is to be determined experimentally, and an R9 (0 ohms) is to be placed on-board as an option to omit filtering through a ferrite bead.</li>
                                </ul>
                                <div class="mb-12 w-full mx-auto">
                                    <img src="../photos/project-bt-segway/buck.png" alt="Overview of Module Implementation" class="rounded-lg shadow-lg mb-2 w-full object-cover">
                                    <p class="text-base text-gray-200 text-center mb-8">12V to 3V3 Step-Down</p>
                                </div>

                                <!--current sensor-->
                                <ul class="list-disc text-lg text-gray-300 mb-8 ml-4 space-y-2">
                                        <li class="pl-2">The INA226 is implemented using a high-side shunt (R12, 2mOhm) for current measurement. The INA226 measures both the bus voltage and shunt voltage, where the current is calculated through the shunt voltage and shunt resistance values.</li>
                                        <li class="pl-2">This data is communicated to MCU through I2C.</li>
                                        <li class="pl-2">R24, R25, and C6 are for input filtering.</li>
                                </ul>
                                <div class="mb-12 w-3/4 mx-auto">
                                    <img src="../photos/project-bt-segway/currentSensor.png" alt="Overview of Module Implementation" class="rounded-lg shadow-lg mb-2 w-full object-cover">
                                    <p class="text-base text-gray-200 text-center mb-8">High-side Current Sensing and Power Monitor</p>
                                </div>
                            </div>
                            
                            <!--line element for separation-->
                            <div class="mx-auto my-8 w-1/2 h-px rounded" style="background: linear-gradient(90deg, #efe8ff 0%, #d6c2ff 40%, #b799ff 65%, #8a5bff 100%); box-shadow: 0 0 8px rgba(138,91,255,0.12);"></div>
                            
                            <!--Motor drivers and encoder-->
                            <div class="mb-12">   
                                <!--title-->
                                <h3 class="text-2xl font-semibold text-purple-300 mb-4">Motor Drivers / Encoder Interface</h3>
                                
                                <!--Motor Driver description-->
                                <p class="text-lg text-gray-300 mb-6">The DRV8871 motor drivers are controlled through PWM signals generated by the MCU (pins 3 and 2 in image). The current limiting resistor (R6 and R7) at 18k Ohm sets the output current to 3.55A for each driver.</p>
                                <!--motor driver image-->
                                <div class="mb-12 w-3/4 mx-auto">
                                    <img src="../photos/project-bt-segway/motorDrivers.png" alt="Overview of Module Implementation" class="rounded-lg shadow-lg mb-2 w-full object-cover">
                                    <p class="text-base text-gray-200 text-center mb-8">Brushed DC Drivers (H-Bridge)</p>
                                </div>

                                <!--Encoder interface-->
                                <p class="text-lg text-gray-300 mb-6">The DRV8871 motor drivers are controlled through PWM signals generated by the MCU (pins 3 and 2 in image). The current limiting resistor (R6 and R7) at 18k Ohm sets the output current to 3.55A for each driver.</p>
                                <!--Encoder image-->
                                <div class="mb-12 w-3/4 mx-auto">
                                    <img src="../photos/project-bt-segway/endoderInterface.png" alt="Overview of Module Implementation" class="rounded-lg shadow-lg mb-2 w-full object-cover">
                                    <p class="text-base text-gray-200 text-center mb-8">Motor and Encoder Interface</p>
                                </div>
                            </div>

                            <!--line element for separation-->
                            <div class="mx-auto my-8 w-1/2 h-px rounded" style="background: linear-gradient(90deg, #efe8ff 0%, #d6c2ff 40%, #b799ff 65%, #8a5bff 100%); box-shadow: 0 0 8px rgba(138,91,255,0.12);"></div>
                            
                            <!--MCU-->
                            <div class="mb-12">   
                                <!--title-->
                                <h3 class="text-2xl font-semibold text-purple-300 mb-4">MCU</h3>
                                
                                <!--MCU-->
                                <p class="text-lg text-gray-300 mb-6">The STM32F401RCT6, as a general purpose microcontroller, was chosen for its balance in power-consumption, comfortable performance level, abundant IO count and peripheral options, and cost. For the oscillators, the load capacitances were chosen based on oscillator datasheets and a 5pf stray capacitance assumption. However, load capacitors may be altered according to test results. This following image details the minimum systems and peripheral connections.</p>
                                <!--motor driver image-->
                                <div class="mb-12 w-3/4 mx-auto">
                                    <img src="../photos/project-bt-segway/mcuOverview.png" alt="Overview of Module Implementation" class="rounded-lg shadow-lg mb-2 w-full object-cover">
                                    <p class="text-base text-gray-200 text-center mb-8">MCU Sheet</p>
                                </div>

                                <!--Debug interface-->
                                <p class="text-lg text-gray-300 mb-6">For the debug interface, 3-pin SWD is used for its compatibility and flexible firmware programming options with STM32 microcontrollers; however, JTAG is also a suitable option.</p>
                                <!--Debug-->
                                <div class="mb-12 w-3/4 mx-auto">
                                    <img src="../photos/project-bt-segway/debug.png" alt="Overview of Module Implementation" class="rounded-lg shadow-lg mb-2 w-full object-cover">
                                    <p class="text-base text-gray-200 text-center mb-8">SWD Debug Interface</p>
                                </div>
                            </div>

                            <!--line element for separation-->
                            <div class="mx-auto my-8 w-1/2 h-px rounded" style="background: linear-gradient(90deg, #efe8ff 0%, #d6c2ff 40%, #b799ff 65%, #8a5bff 100%); box-shadow: 0 0 8px rgba(138,91,255,0.12);"></div>
                           
                            <!--Environment Sensors-->
                            <div class="mb-12">   
                                <!--title-->
                                <h3 class="text-2xl font-semibold text-purple-300 mb-4">Environment Sensors</h3>
                                
                                <!--sensors-->
                                <p class="text-lg text-gray-300 mb-6">For self-balancing, the robot uses the BMI088 6-axis IMU. The IMU is interfaced with the MCU through 5-wire SPI, where two different chip select lines manage the gyroscope and accelerometer, respectively. Furthermore, the embedded interrupt feature on the IMU is interfaced with general-purpose inputs on the MCU. Other sensors, such as a temperature & humidity and a pressure sensor, are also included in the design for miscellaneous purposes. These sensors interface with the MCU through I2C.</p>
                                <!--sensors image-->
                                <div class="mb-12 w-3/4 mx-auto">
                                    <img src="../photos/project-bt-segway/environmentSensors.png" alt="Overview of Module Implementation" class="rounded-lg shadow-lg mb-2 w-full object-cover">
                                    <p class="text-base text-gray-200 text-center mb-8">Environment Sensors Sheet</p>
                                </div>
                            </div>

                            <!--line element for separation-->
                            <div class="mx-auto my-8 w-1/2 h-px rounded" style="background: linear-gradient(90deg, #efe8ff 0%, #d6c2ff 40%, #b799ff 65%, #8a5bff 100%); box-shadow: 0 0 8px rgba(138,91,255,0.12);"></div>
                            
                            <!--Other Sections-->
                            <div class="mb-12">   
                                <!--title-->
                                <h3 class="text-2xl font-semibold text-purple-300 mb-4">Other Sections</h3>
                                
                                <!--leds-->
                                <p class="text-lg text-gray-300 mb-6">The indicator LEDS show power status on the 12V and 3V3. They serve as basic indicators for proper function. On the other hand, the prototyping LEDs are used for experimental purposes: for example, testing simple firmware.</p>
                                <!--LED image-->
                                <div class="mb-12 w-full mx-auto">
                                    <img src="../photos/project-bt-segway/LEDs.png" alt="Overview of Module Implementation" class="rounded-lg shadow-lg mb-2 w-full object-cover">
                                    <p class="text-base text-gray-200 text-center mb-8">Indicator LEDs (Power and Prototyping)</p>
                                </div>

                                <!--i2c-->
                                <p class="text-lg text-gray-300 mb-6">4k7 is chosen as a suitable starting value (according to device capacitance and estimated calculations), but resistance values may be altered according to test results.</p>
                                <!--i2c image-->
                                <div class="mb-12 w-3/4 mx-auto">
                                    <img src="../photos/project-bt-segway/i2c.png" alt="Overview of Module Implementation" class="rounded-lg shadow-lg mb-2 w-full object-cover">
                                    <p class="text-base text-gray-200 text-center mb-8">I2C Bus; pull-up resistors</p>
                                </div>

                                <!--bluetooth-->
                                <p class="text-lg text-gray-300 mb-6">To simplify the board design and account for limited hardware resources (such as no access to a VNA), an external Bluetooth module (HC-05) is used for wireless communication. It is interfaced with the MCU through UART and powered by the on-board 3.3 V supply.</p>
                                <!--bluetooth-->
                                <div class="flex flex-col md:flex-row gap-6 mb-8 mt-8 w-full justify-center md:items-end">
                                    <div class="flex flex-col items-center w-full md:w-auto">
                                        <img src="../photos/project-bt-segway/bluetoothCirc.png" alt="I2C Compliance testing" class="rounded-lg shadow-lg mb-2 w-full md:w-auto h-auto">
                                        <p class="text-base text-gray-200 text-center">External Bluetooth Module Interface</p>
                                    </div>
                                    <div class="flex flex-col items-center w-full md:w-auto">
                                        <img src="../photos/project-bt-segway/hc05.png" alt="Soft-power up timing testing" class="rounded-lg shadow-lg mb-2 w-full md:w-auto h-auto">
                                        <p class="text-base text-gray-200 text-center">HC-05 Module</p>
                                    </div>
                                </div>

                            </div>
                    </div>

                    <!--line element for separation-->
                    <div class="mx-auto my-8 w-full h-px rounded" style="background: linear-gradient(90deg, #efe8ff 0%, #d6c2ff 40%, #b799ff 65%, #8a5bff 100%); box-shadow: 0 0 8px rgba(138,91,255,0.12);"></div>
                   
                    <!--Board Layout Section-->
                    <div class="mb-12">
                            <!-- Section Heading -->
                            <h2 class="text-4xl font-bold text-purple-200 mb-6">Board Layout</h2>
                            <p class="text-lg text-gray-300 mb-4">The board uses a four-layer stackup arranged as SIGNAL–GND–GND–POWER, and it is currently in the routing stage.</p>
                            <p class="text-lg text-gray-300 mb-8">Without strict sizing requirements, the board outline (7.4x8.4cm) ensures there is room for efficient routing</p>
                            <!--board description-->
                            <div class="flex flex-col md:flex-row gap-6 mb-8 mt-8 w-full justify-center md:items-end">
                                <div class="flex flex-col items-center w-full md:w-auto">
                                    <img src="../photos/project-bt-segway/pcbFront.png" alt="I2C Compliance testing" class="rounded-lg shadow-lg mb-2 w-full md:w-auto h-auto">
                                    <p class="text-base text-gray-200 text-center">Front View</p>
                                </div>
                                <div class="flex flex-col items-center w-full md:w-auto">
                                    <img src="../photos/project-bt-segway/pcbBack.png" alt="Soft-power up timing testing" class="rounded-lg shadow-lg mb-2 w-full md:w-auto h-auto">
                                    <p class="text-base text-gray-200 text-center">Back View</p>
                                </div>
                            </div> 
                    </div>

                    <!--line element for separation-->
                    <div class="mx-auto my-8 w-full h-px rounded" style="background: linear-gradient(90deg, #efe8ff 0%, #d6c2ff 40%, #b799ff 65%, #8a5bff 100%); box-shadow: 0 0 8px rgba(138,91,255,0.12);"></div>

                    <!--Frimware Section-->
                    <div class="mb-12">
                            <!-- Section Heading -->
                            <h2 class="text-4xl font-bold text-purple-200 mb-6">Firmware</h2>
                            <p class="text-lg text-gray-300 mb-4">No firmware work has been completed yet, as development will begin after the hardware is finished, with an RTOS-based architecture planned for implementation.</p>
                            <!--firmware description-->
                    </div>


                </div>


            </section>
        </main>
    </div>

    <script src="../js/config.js"></script>
    <script src="../js/components.js"></script>
    <script src="../js/gradient.js"></script>
</body>
</html>